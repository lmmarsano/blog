{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./script/euclidean.js","webpack:///./script/dom-utility.js","webpack:///./euclidean-algorithm.js","webpack:///./script/script.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","InvalidArgumentError","Error","[object Object]","message","args","super","this","arguments","Modulo","a","b","assign","dividend","divisor","remainder","EuclidProcess","modulo","Symbol","iterator","getTemplate","id","document","getElementById","content","clearElement","element","clone","cloneNode","parentElement","replaceChild","IsValidInput","isFinite","euclidean_algorithm_Demo","demo","appendChild","form","querySelector","dirtyField","Set","_step","lastElementChild","key","marker","caption","captionAnswer","captionA","captionB","captionStepCount","textContent","response","data","answer","createDocumentFragment","valueAsNumber","step","childElementCount","replaceCellContent","previousElementSibling","className","replacement","cell","lastChild","addEventListener","event","target","tagName","toLowerCase","add","has","setCustomValidity","reportValidity","updateResponse","preventDefault"],"mappings":"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","file":"script/euclidean-algorithm.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./euclidean-algorithm.js\");\n","'use strict'\n// error to throw for function calls with arguments outside its domain\nclass InvalidArgumentError extends Error {\n\tconstructor(message, args) {\n\t\tsuper(message)\n\t\tthis.name = 'InvalidArgumentError'\n\t\tthis.arguments = args\n\t}\n}\n// members of the modulo (%) graph\nclass Modulo {\n\tconstructor(a, b) {\n\t\tObject.assign\n\t\t( this\n\t\t, { dividend: a\n\t\t  , divisor: b\n\t\t  , remainder: a % b\n\t\t  }\n\t\t)\n\t}\n}\n/* iterable Euclidean process for the greatest common divisor of a & b\nbeginning with i = 0, each term in the sequence is a Modulo(r(i), r(i + 1)) instance where\n- r(0) = a\n- r(1) = b\n- Modulo(r(i), r(i + 1)).remainder = r(i + 2) unless r(i + 1) = 0\n*/\nclass EuclidProcess {\n\tconstructor(a, b) {\n\t\tif (b === 0) {\n\t\t\tif(a === 0) {\n\t\t\t\tthrow new InvalidArgumentError('a non-0 argument is required', arguments)\n\t\t\t}\n\t\t\t[b, a] = [a, b]\n\t\t}\n\t\tthis.modulo = new Modulo(a, b)\n\t}\n\t*[Symbol.iterator]() {\n\t\tlet value\n\t\tfor ( value = this.modulo\n\t\t    ; value.remainder\n\t\t    ; value = new Modulo(value.divisor, value.remainder)\n\t\t    ) {\n\t\t\tyield value\n\t\t}\n\t\tyield value\n\t}\n}\n// static method: check input from forms\nEuclidProcess.IsValidInput = function IsValidInput(a, b) {\n\treturn (a || b)\n\t    && isFinite(a)\n\t    && isFinite(b)\n}\nexport { InvalidArgumentError, Modulo, EuclidProcess }\n","'use strict'\nfunction getTemplate(id) {\n\treturn document.getElementById(id).content\n}\nfunction delegateHandler(selector, handler) {\n\treturn function tagNameHandler(event) {\n\t\tif (event.target.matches(selector)) {\n\t\t\thandler(event.target)\n\t\t}\n\t}\n}\nfunction removeChildren(parent) {\n\tfor ( let child\n\t    ; child = parent.lastChild\n\t    ; parent.removeChild(child)\n\t    )\n\t\t;\n\treturn parent\n}\nfunction clearElement(element) {\n\tlet clone = element.cloneNode(false)\n\telement.parentElement.replaceChild(clone, element)\n\treturn clone\n}\nexport {getTemplate, delegateHandler, removeChildren, clearElement}\n","'use strict'\nimport './script/script'\nimport { EuclidProcess } from './script/euclidean'\nimport { getTemplate, clearElement } from './script/dom-utility'\nimport './style/euclidean-algorithm.sss'\n\nclass Demo {\n\tconstructor() {\n\t\t// singleton class\n\t\tif ('demo' in Demo) {\n\t\t\treturn Demo.demo\n\t\t}\n\t\t// shorthand access to template slots\n\t\tDemo.demo = this\n\t\tthis.demo = clearElement(document.getElementById('demo'))\n\t\tthis.demo.appendChild(getTemplate('demoContent'))\n\t\tthis.form = document.querySelector('#demo form')\n\t\tthis.a = document.getElementById('a')\n\t\tthis.b = document.getElementById('b')\n\t\tthis.dirtyField = new Set\n\t\tthis._step = getTemplate('step').lastElementChild\n\t\tfor (let key of ['dividend', 'divisor', 'remainder']) {\n\t\t\tthis[key] = this._step.querySelector(`.${key}`)\n\t\t}\n\t\tthis.marker = getTemplate('marker').lastElementChild\n\t\tthis.caption = getTemplate('caption')\n\t\tthis.captionAnswer = this.caption.querySelector('.answer')\n\t\tthis.captionA = this.caption.querySelector('.a-value')\n\t\tthis.captionB = this.caption.querySelector('.b-value')\n\t\tthis.captionStepCount = this.caption.querySelector('.step-count')\n\t}\n\tstep(modulo) {\n\t\tfor (let key of ['dividend', 'divisor', 'remainder']) {\n\t\t\tthis[key].textContent = modulo[key]\n\t\t}\n\t\treturn this._step.cloneNode(true)\n\t}\n\tupdateResponse() {\n\t\t// respond to user submission\n\t\t// clear data or attach new data container\n\t\tif (this.response) {\n\t\t\tthis.data = clearElement(this.data)\n\t\t} else {\n\t\t\tthis.demo.appendChild(getTemplate('response'))\n\t\t\tthis.response = document.getElementById('euclidean-process')\n\t\t\tthis.data = document.getElementById('euclidean-data')\n\t\t\tthis.answer = document.getElementById('euclidean-answer')\n\t\t}\n\t\t// fill data container\n\t\tlet data = document.createDocumentFragment()\n\t\t  , a = this.a.valueAsNumber\n\t\t  , b = this.b.valueAsNumber\n\t\tfor (let modulo of new EuclidProcess(a, b)) {\n\t\t\tdata.appendChild(this.step(modulo))\n\t\t}\n\t\t// and caption\n\t\tthis.captionA.textContent = a\n\t\tthis.captionB.textContent = b\n\t\tthis.captionAnswer.textContent = this.marker.textContent = this.divisor.textContent\n\t\tthis.captionStepCount.textContent = data.childElementCount\n\t\t// mark answer in data\n\t\tlet step = data.lastElementChild\n\t\tthis.replaceCellContent(step, 'divisor', this.marker)\n\t\tif (step = step.previousElementSibling) {\n\t\t\tthis.replaceCellContent(step, 'remainder', this.marker)\n\t\t}\n\t\t// attach data\n\t\tthis.data.appendChild(data)\n\t\t// and caption\n\t\tthis.answer = clearElement(this.answer)\n\t\tthis.answer.appendChild(this.caption.cloneNode(true))\n\t}\n\treplaceCellContent(step, className, replacement) {\n\t\t// replaces content of cell given by className in step\n\t\tlet cell = step.querySelector(`.${className}`)\n\t\tcell.replaceChild\n\t\t( replacement.cloneNode(true)\n\t\t, cell.lastChild\n\t\t)\n\t}\n}\n{\n\tlet demo = new Demo\n\t  , {a, b, dirtyField, form} = demo\n\tform.addEventListener('focusout', onFocusout)\n\tform.addEventListener('submit', onSubmit)\n\tfunction onSubmit(event) {\n\t\t// allow user to enter in any order\n\t\tif (b.valueAsNumber === 0) {\n\t\t\t[a.valueAsNumber, b.valueAsNumber] = [b.valueAsNumber, a.valueAsNumber]\n\t\t}\n\t\tdemo.updateResponse()\n\t}\n\tfunction onFocusout(event) {\n\t\t// validate form right after focus leaves input\n\t\t// extend Constraints API\n\t\tif (event.target.tagName.toLowerCase() === 'input') {\n\t\t\tdirtyField.add(event.target.id)\n\t\t\tif ( dirtyField.has('a')\n\t\t\t  && dirtyField.has('b')\n\t\t\t   ) {\n\t\t\t\t// special constraint: some field must be non-0\n\t\t\t\tif ( EuclidProcess.IsValidInput\n\t\t\t\t     (a.valueAsNumber, b.valueAsNumber)\n\t\t\t\t   ) {\n\t\t\t\t\tb.setCustomValidity('')\n\t\t\t\t} else {\n\t\t\t\t\tb.setCustomValidity('Please enter a non-0 integer.')\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.reportValidity()\n\t\t}\n\t}\n}\n","'use strict'\n// cancel submissions: no backend\ndocument.addEventListener('submit', onSubmit)\nfunction onSubmit(event) {\n\tevent.preventDefault()\n}\n"],"sourceRoot":""}